## METRA â€“ Baseline & Version Control Notes
(Prepared October 2025)

This note summarises best practice for handling baselines, branches, and tags in Git to keep METRA stable during development.

---

### ğŸ”¹ 1. Baseline = A locked snapshot
A â€œbaselineâ€ is a point-in-time record of code that is known to work correctly.

Create a baseline **only** when the app runs cleanly in Safari and all modules behave as expected.

Command:
    git add -A
    git commit -m "Stable baseline: description"
    git tag -a baseline-YYYY-MM-DD -m "notes"
    git push origin HEAD --tags

Example:
    git tag -a baseline-2025-10-10 -m "Stable PreProject restore"

---

### ğŸ”¹ 2. Keep experiments separate
Before trying new ideas (e.g. scroll fix, pop-up windows, permissions):
    git switch -c feature-new-idea

This makes a new branch so experiments canâ€™t damage the working baseline.

When done, you can merge or delete the branch safely.

---

### ğŸ”¹ 3. Always push tags
Tags are local by default. To ensure GitHub also keeps them:
    git push origin HEAD --tags

That permanently stores every baseline remotely.

---

### ğŸ”¹ 4. Checking a previous baseline
To view or test an earlier version:
    git checkout baseline-YYYY-MM-DD

You will be in â€œdetached HEADâ€ state â€” this is normal for viewing or testing.
To return to normal development:
    git switch main
    or
    git switch <branch-name>

---

### ğŸ”¹ 5. Safe restart cycle
When testing changes:
    npm run dev   â†’ start Vite
    Control + C   â†’ stop server
    npm run dev   â†’ restart

Viteâ€™s cache can be cleared if things look odd:
    rm -rf node_modules/.vite

Safari hard refresh:
    âŒ˜ + Option + R

---

### ğŸ”¹ 6. Quick status & differences
Check whatâ€™s changed:
    git status
    git diff

List all tags:
    git tag

Compare two baselines:
    git diff baseline-2025-10-09 baseline-2025-10-10

---

### ğŸ”¹ 7. Recovery principle
If a working version seems lost:
1. Identify the last tag or branch that worked.
2. Restore the specific file from that tag:
       git show baseline-YYYY-MM-DD:path/to/file > path/to/file
3. Re-tag the recovered version with a new date.

---

### ğŸ”¹ 8. Always document
Keep a short note after each stable tag describing:
- which modules worked
- what features were added
- known issues (if any)

This habit makes troubleshooting far easier later.

---

Prepared for: John Kelly
Project: METRA â€“ Project Tracker
Location: ~/Documents/project-tracker-vite-pwa-v15
